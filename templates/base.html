{% load static %}
<!DOCTYPE html>
<html lang="en" data-theme="light" class="transition-colors duration-300">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock title %}</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-light-primary text-light-text dark:bg-dark-primary dark:text-dark-text transition-colors duration-300">
    <!-- Theme Switcher -->
    <div class="fixed top-4 right-4 flex gap-2">
        <button onclick="setTheme('light')" class="p-2 rounded-lg bg-light-secondary hover:bg-light-accent hover:text-white transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
            </svg>
        </button>
        <button onclick="setTheme('dark')" class="p-2 rounded-lg bg-dark-secondary hover:bg-dark-accent hover:text-white transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
            </svg>
        </button>
        <button onclick="setTheme('tokyo')" class="p-2 rounded-lg bg-tokyo-secondary hover:bg-tokyo-accent hover:text-white transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
        </button>
    </div>

    <!-- Messages -->
    <div class="fixed top-16 right-4 z-50">
        {% include 'fragments/messages.html' %}
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        {% block body %}{% endblock body %}
    </main>

    <!-- Theme Switcher Script -->
    <script>
        function setTheme(theme) {
            const html = document.documentElement;
            html.setAttribute('data-theme', theme);
            
            // Remove all theme classes
            html.classList.remove('theme-light', 'theme-dark', 'theme-tokyo');
            
            // Add new theme class
            html.classList.add(`theme-${theme}`);
            
            // Store theme preference
            localStorage.setItem('theme', theme);
        }

        // Load saved theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        setTheme(savedTheme);
    </script>
</body>

</html>